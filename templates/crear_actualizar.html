<!DOCTYPE html>
<html lang="es">
<head>
      <title>Crear/Actualizar imagen</title>
      <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" type="text/css">
      <script src="{{ url_for('static', filename='js/script.js') }}"></script>
      <meta charset="utf-8">
      
</head>

<body style="background-image: url('/static/images/cielo.jpg'); background-size: cover;">
      <h1 class="login">Crear/Actualizar de imágenes</h1>
      <br>

      <form action="/crear/" method="POST" id="formulario" enctype="multipart/form-data" onsubmit="return validar_formulario(3);">
            <img src="{{ url_for('static', filename='images/vista_previa.png')}}" class="logos" id="preview">
            <br>
            <input type="file" name="archivo" value="Selecciona la imagen" required id="file">
            <br>
            <input type="text" name="nombre" placeholder="Nombre de la imagen" id="nombre">
            <br>
            <input type="text" name="descripcion" placeholder="Descripción de la imagen" id="descripcion">
            <br>
            
            
            <input type="radio" id="imgpublica" name="privacidad" style="width: auto;" value="on" checked=checked>
            <label for="imgpublica">Imagen pública (visible para todos)</label><br>
            <input type="radio" id="imgprivada" name="privacidad" style="width: auto;" value="off">
            <label for="imgprivada">Imagen privada (visible sólo para ti)</label><br>
            <br>
            <input type="submit" name="cargamosImagen" class="btn" value="Cargar/Actualizar">
            <br>
             <!-- acá miramos si hay algún mensaje para mostrarle al usuario -->
             {% for message in get_flashed_messages() %}
             <div style="margin: 10px; font-size: large; color:red;" class="flash">{{ message }}</div>
             {% endfor %}
            <div style="margin: 10px; font-size: large;">
                  <label>¿Se arrepintió y desea volver al inicio? </label><a href="/inicio/">Click aquí</a>
            </div>

      </form>

      <script>
            document.getElementById("file").onchange = function (e) {
                  // Creamos el objeto de la clase FileReader
                  let reader = new FileReader();
                  // Leemos el archivo subido y se lo pasamos a nuestro fileReader
                  reader.readAsDataURL(e.target.files[0]);
                  // Le decimos que cuando este listo ejecute el código interno
                  reader.onload = function () {
                        let preview = document.getElementById('preview');
                        preview.src = reader.result;
                  };
            }
      </script>



      <footer>
            <h4>PROYECTO MINTIC- UNINORTE - Grupo F</h4>
            <h4>GERMÁN ALBERTO SÁNCHEZ, VÍCTOR MANUEL ESCOBAR, NANCY PAOLA SÁNCHEZ, DAVID ESTEBAN ARIAS PARRA</h4>
            <p>Copyright 2020 todos los derechos reservados.</p>
      </footer>
</body>

</html>
